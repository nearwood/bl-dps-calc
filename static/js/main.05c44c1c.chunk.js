(this["webpackJsonpbl-dps-calc"]=this["webpackJsonpbl-dps-calc"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),c=n.n(r),i=(n(12),n(2)),l=n(6),s=(n(13),n(3)),o=(n(16),n(0)),d="9bc130d35a4af05b59d9a0f6ff890d3710bee61e",j=/[0-9]+[.,][0-9]+/;var b=function(){var e=Object(a.useState)({damage:"17",damageMultiplier:"1",bulletsPerShot:"1",accuracy:"60",reloadTime:"4.0",fireRate:"13.67",magazineSize:"60"}),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({damage:"20",damageMultiplier:"1",bulletsPerShot:"1",accuracy:"80",reloadTime:"3.2",fireRate:"12.71",magazineSize:"44"}),b=Object(l.a)(c,2),h=b[0],u=b[1];function m(e,t,n){var a=n.target.value;switch(n.target.name){case"damage":return t(Object(i.a)(Object(i.a)({},e),{},{damage:a}));case"accuracy":return t(Object(i.a)(Object(i.a)({},e),{},{accuracy:a}));case"reloadTime":return t(Object(i.a)(Object(i.a)({},e),{},{reloadTime:a}));case"fireRate":return t(Object(i.a)(Object(i.a)({},e),{},{fireRate:a}));case"magazineSize":return t(Object(i.a)(Object(i.a)({},e),{},{magazineSize:a}));case"damageMultiplier":return t(Object(i.a)(Object(i.a)({},e),{},{damageMultiplier:a,bulletsPerShot:a}));case"bulletsPerShot":return t(Object(i.a)(Object(i.a)({},e),{},{bulletsPerShot:a}));default:return}}function x(e){var t=function(e){var t={};return Object.keys(e).forEach((function(n){return t[n]=e[n].match(j)?Number.parseFloat(e[n]):Number.parseInt(e[n],10)})),t}(e),n=Math.floor(t.magazineSize/t.bulletsPerShot),a=t.damage*t.damageMultiplier*t.fireRate,r=n/t.fireRate,c=a*r/(r+t.reloadTime);return Object(i.a)(Object(i.a)({},t),{},{dps:a,magTime:r,mag2magDps:c})}var O=x(n),g=x(h),f=function(e){return e.target.select()},p=function(e,t){return e<t?"+":""},v=function(e,t,n){return Object(o.jsxs)("td",{style:e>t?n?{color:"#00C800"}:{color:"red"}:{},children:[p(e,t),Math.round((t-e)/e*100).toString(),"%"]})};function S(e,t){return Object(o.jsx)("form",{children:Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"damage",children:"Damage"})}),Object(o.jsxs)("td",{children:[Object(o.jsx)("input",{tabindex:"1",onFocus:f,onChange:t,name:"damage",type:"number",className:"shrink",value:e.damage.toString(),min:"0"}),Object(o.jsxs)("select",{tabindex:"2",onChange:t,name:"damageMultiplier",id:"damageMultiplier",title:"Damage Multiplier",value:e.damageMultiplier,children:[Object(o.jsx)("option",{value:"1",children:"x1"}),Object(o.jsx)("option",{value:"2",children:"x2"}),Object(o.jsx)("option",{value:"3",children:"x3"}),Object(o.jsx)("option",{value:"4",children:"x4"})]}),Object(o.jsx)("label",{for:"damageMultiplier"})]})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"reloadTime",children:"Reload Time"})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{tabindex:"1",onFocus:f,onChange:t,name:"reloadTime",type:"number",value:e.reloadTime.toString(),min:"0",step:"0.1"})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"fireRate",children:"Fire Rate"})}),Object(o.jsx)("td",{children:Object(o.jsx)("input",{tabindex:"1",onFocus:f,onChange:t,name:"fireRate",type:"number",value:e.fireRate.toString(),min:"0",step:"0.01"})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)("label",{htmlFor:"magazineSize",children:"Magazine Size"})}),Object(o.jsxs)("td",{children:[Object(o.jsx)("input",{tabindex:"1",onFocus:f,onChange:t,name:"magazineSize",type:"number",className:"shrink",value:e.magazineSize.toString(),min:"0"}),Object(o.jsxs)("select",{tabindex:"2",onChange:t,name:"bulletsPerShot",id:"bulletsPerShot",title:"Bullets per shot",value:e.bulletsPerShot,children:[Object(o.jsx)("option",{value:"1",children:"1"}),Object(o.jsx)("option",{value:"2",children:"2"}),Object(o.jsx)("option",{value:"3",children:"3"}),Object(o.jsx)("option",{value:"4",children:"4"})]}),Object(o.jsx)("label",{for:"bulletsPerShot",children:"Bullets per shot"})]})]})]})})})}function w(e,t){var n=Math.round(e.dps).toString(),a=Math.round(e.mag2magDps).toString();return Object(o.jsx)("table",{children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{className:"statHeader",children:[Object(o.jsx)("td",{children:"Effective DPS:"}),Object(o.jsx)("td",{children:a}),t&&v(t.mag2magDps,e.mag2magDps)]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Base DPS:"}),Object(o.jsx)("td",{children:n}),t&&v(t.dps,e.dps)]}),t&&Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Fire Rate:"}),Object(o.jsx)("td",{children:(e.fireRate-t.fireRate).toFixed(2)}),v(t.fireRate,e.fireRate)]}),t&&Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Reload time:"}),Object(o.jsx)("td",{children:(e.reloadTime-t.reloadTime).toFixed(2)}),v(t.reloadTime,e.reloadTime,!0)]}),t&&Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Magazine Size:"}),Object(o.jsx)("td",{children:(e.magazineSize-t.magazineSize).toFixed(0)}),v(t.magazineSize,e.magazineSize)]})]})})}return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("h2",{children:"Borderlands DPS Calc"})}),Object(o.jsx)("main",{children:Object(o.jsxs)(s.d,{children:[Object(o.jsxs)(s.b,{children:[Object(o.jsx)(s.a,{children:"Gun A"}),Object(o.jsx)(s.a,{children:"Gun B"})]}),Object(o.jsxs)(s.c,{children:[Object(o.jsxs)("div",{className:"flex flexColumn",children:[Object(o.jsx)("span",{children:"Gun A"}),S(n,(function(e){return m(n,r,e)}))]}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"flex flexColumn",children:w(O)})]}),Object(o.jsxs)(s.c,{children:[Object(o.jsxs)("div",{className:"flex flexColumn",children:[Object(o.jsx)("span",{children:"Gun B"}),S(h,(function(e){return m(h,u,e)}))]}),Object(o.jsx)("hr",{}),Object(o.jsx)("div",{className:"flex flexColumn",children:w(g,O)})]})]})}),Object(o.jsx)("footer",{children:Object(o.jsxs)("h6",{children:[Object(o.jsx)("a",{rel:"author",href:"https://twitter.com/nearwood",children:"@nearwood"})," ",Object(o.jsx)("a",{href:"https://github.com/nearwood/bl-dps-calc",children:"GitHub"})," ",Object(o.jsx)("span",{title:"version",children:d.substring(0,7)})]})})]})},h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(o.jsx)(b,{}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bl-dps-calc",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/bl-dps-calc","/service-worker.js");h?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):u(t,e)}))}}()}},[[18,1,2]]]);
//# sourceMappingURL=main.05c44c1c.chunk.js.map